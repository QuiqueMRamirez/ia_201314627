import time

def reflex_agent(location, state):
    if state=="DIRTY":
        return 'CLEAN'
    elif location=='A':
        return 'RIGHT'
    elif location=='B':
        return 'LEFT'   

estados=[
    ['A','CLEAN','CLEAN'],
    ['B','CLEAN','CLEAN'],
    ['A','CLEAN','DIRTY'],
    ['B','CLEAN','DIRTY'],
    ['A','DIRTY','CLEAN'],
    ['B','DIRTY','CLEAN'],
    ['A','DIRTY','DIRTY'],
    ['B','DIRTY','DIRTY']
]

def test(states):
    print("**********   Tarea 2   **********\n")
    print("**********   Carlos Mazariegos  **********\n") 
    print("**********   201314627   **********\n") 
    locationRight=False
    locationLeft=False
    count = len(estados)
    estados.remove(states)
    for _ in range(0, count):
        location = states[0]
        state = (states[2], states[1])[states[0]=='A']
        action = reflex_agent(location, state)
        #print(estados)
        print(states)
        print ("Location: "+location+" | Action: "+action)
        print("*********************************")
        if action == "CLEAN":
            if location == 'A':
                states[1]="CLEAN"
            elif location == 'B':
                states[2]="CLEAN"
        elif action == "RIGHT":
            states[0]='B'
            locationRight=True
        elif action == "LEFT":
            states[0]='A' 
            locationLeft=True

        if len(estados)>0 and locationLeft and locationRight:
            states=estados.pop()
        elif len(estados)>0:
            estados.remove(states)
        time.sleep(3)

test(['A','DIRTY','DIRTY'])